<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CS105.L22.KHCL Final Project</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <link rel="manifest" href="manifest.json" />
    <link rel="shortcut icon" href="./favicon.ico" />
  </head>
  <body>
    <link rel="stylesheet" href="css/main.css" />
    <script src="js/libs/signals.min.js"></script>
    <script type="module">
      import * as THREE from "./js/three.module.js";

      import { Editor } from "./js/Editor.js";
      import { Viewport } from "./js/Viewport.js";
      import { Toolbar } from "./js/Toolbar.js";
      import { Player } from "./js/Player.js";
      import { Sidebar } from "./js/Sidebar.js";
      import { Menubar } from "./js/Menubar.js";

      var editor = new Editor();

      window.editor = editor;
      window.THREE = THREE;

      var viewport = new Viewport(editor);
      document.body.appendChild(viewport.dom);

      var toolbar = new Toolbar(editor);
      document.body.appendChild(toolbar.dom);

      var player = new Player(editor);
      document.body.appendChild(player.dom);

      var sidebar = new Sidebar(editor);
      document.body.appendChild(sidebar.dom);

      var menubar = new Menubar(editor);
      document.body.appendChild(menubar.dom);

      function onWindowResize() {
        editor.signals.windowResize.dispatch();
        editor.signals.sceneBackgroundChanged.dispatch(
        'Color',
        0xafafaf,
        '',
        '',
        ''
        );
      }

      window.addEventListener("resize", onWindowResize, false);

      onWindowResize();
    </script>
  </body>
</html>
